<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1334px" preserveAspectRatio="none" style="width:1280px;height:1334px;background:#FFFFFF;" version="1.1" viewBox="0 0 1280 1334" width="1280px" zoomAndPan="magnify"><defs><filter height="300%" id="fwb55td8iom8m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="1322.2031" style="stroke:#A80036;stroke-width:1.0;" width="271" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="120" y="18.0669">User</text><rect fill="#008000" height="1322.2031" style="stroke:#A80036;stroke-width:1.0;" width="998" x="274" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="72" x="737" y="18.0669">cloud.gov</text><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="436.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="247" y="192.9609"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="445.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="354.5" y="821.9141"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="758.5" y="280.3594"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="758.5" y="909.3125"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="999.5" y="367.7578"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="999.5" y="996.7109"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="174.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1163.5" y="426.0234"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="174.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1163.5" y="1054.9766"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="73.4297" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="252" x2="252" y1="73.4297" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="359" x2="359" y1="759" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="582.5" x2="582.5" y1="73.4297" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="763.5" x2="763.5" y1="73.4297" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1004.5" x2="1004.5" y1="73.4297" y2="1276.9063"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1168" x2="1168" y1="73.4297" y2="1276.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="70.1279">admin</text><ellipse cx="29" cy="41.1328" fill="#FEFECE" filter="url(#fwb55td8iom8m)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="17" x2="41" y1="55.1328" y2="55.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="1288.9014">admin</text><ellipse cx="29" cy="1308.2031" fill="#FEFECE" filter="url(#fwb55td8iom8m)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0;"/><line style="stroke:#A80036;stroke-width:2.0;" x1="17" x2="41" y1="1322.2031" y2="1322.2031"/><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="28" x="236" y="38.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="243" y="58.1279">cli</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="28" x="236" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="14" x="243" y="1295.9014">cli</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="278" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="285" y="1295.9014">cloud.gov dashboard</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="505.5" y="38.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="512.5" y="58.1279">cloud.gov controller</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="150" x="505.5" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="512.5" y="1295.9014">cloud.gov controller</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="669.5" y="38.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="676.5" y="58.1279">cloud.gov authentication</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="669.5" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="676.5" y="1295.9014">cloud.gov authentication</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="962.5" y="38.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="969.5" y="58.1279">ssh proxy</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="80" x="962.5" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="969.5" y="1295.9014">ssh proxy</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="1069" y="38.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="1076" y="58.1279">application container sshd</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="195" x="1069" y="1275.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="1076" y="1295.9014">application container sshd</text><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="436.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="247" y="192.9609"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="445.9922" style="stroke:#A80036;stroke-width:1.0;" width="10" x="354.5" y="821.9141"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="758.5" y="280.3594"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="758.5" y="909.3125"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="999.5" y="367.7578"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="262.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="999.5" y="996.7109"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="174.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1163.5" y="426.0234"/><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="174.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1163.5" y="1054.9766"/><rect fill="#EEEEEE" filter="url(#fwb55td8iom8m)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1273" x="0" y="103.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1273" y1="103.9961" y2="103.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1273" y1="106.9961" y2="106.9961"/><rect fill="#EEEEEE" filter="url(#fwb55td8iom8m)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="390" x="441.5" y="93.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="376" x="447.5" y="109.4966">Requesting an authenticated session using the CLI</text><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="40.2656" style="stroke:#000000;stroke-width:2.0;" width="656.5" x="2" y="126.5625"/><path d="M2,126.5625 L68,126.5625 L68,133.5625 L58,143.5625 L2,143.5625 L2,126.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="15" y="140.6294">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="524" x="70.25" y="159.6294">9.d Privileged User Access: The administrator authenticates with the cloud.gov API</text><polygon fill="#A80036" points="235,188.9609,245,192.9609,235,196.9609,239,192.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="241" y1="192.9609" y2="192.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="124" x="36" y="187.895">cf ssh &lt;appname&gt;</text><polygon fill="#A80036" points="570.5,218.0938,580.5,222.0938,570.5,226.0938,574.5,222.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257" x2="576.5" y1="222.0938" y2="222.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="264" y="217.0278">request GUID for &lt;appname&gt;</text><polygon fill="#A80036" points="570.5,247.2266,580.5,251.2266,570.5,255.2266,574.5,251.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257" x2="576.5" y1="251.2266" y2="251.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="264" y="246.1606">request SSH endpoint details</text><polygon fill="#A80036" points="746.5,276.3594,756.5,280.3594,746.5,284.3594,750.5,280.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257" x2="752.5" y1="280.3594" y2="280.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="264" y="275.2935">request SSH client auth code</text><polygon fill="#A80036" points="992.5,305.4922,1002.5,309.4922,992.5,313.4922,996.5,309.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="768.5" x2="998.5" y1="309.4922" y2="309.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="775.5" y="304.4263">add to authorized_users</text><polygon fill="#A80036" points="268,334.625,258,338.625,268,342.625,264,338.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="262" x2="762.5" y1="338.625" y2="338.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="274" y="333.5591">return code</text><polygon fill="#A80036" points="987.5,363.7578,997.5,367.7578,987.5,371.7578,991.5,367.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257" x2="993.5" y1="367.7578" y2="367.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="264" y="362.6919">present SSH client auth code</text><polygon fill="#A80036" points="774.5,392.8906,764.5,396.8906,774.5,400.8906,770.5,396.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="768.5" x2="998.5" y1="396.8906" y2="396.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="780.5" y="391.8247">verify authorization to application</text><polygon fill="#A80036" points="1151.5,422.0234,1161.5,426.0234,1151.5,430.0234,1155.5,426.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1009.5" x2="1157.5" y1="426.0234" y2="426.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1016.5" y="420.9575">establish ssh session</text><polygon fill="#A80036" points="1020.5,451.1563,1010.5,455.1563,1020.5,459.1563,1016.5,455.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1014.5" x2="1162.5" y1="455.1563" y2="455.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1026.5" y="450.0903">present session</text><polygon fill="#A80036" points="268,480.2891,258,484.2891,268,488.2891,264,484.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="262" x2="998.5" y1="484.2891" y2="484.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="274" y="479.2231">proxy session</text><polygon fill="#A80036" points="40,509.4219,30,513.4219,40,517.4219,36,513.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="246" y1="513.4219" y2="513.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="46" y="508.356">present authenticated session</text><polygon fill="#A80036" points="1151.5,538.5547,1161.5,542.5547,1151.5,546.5547,1155.5,542.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="1157.5" y1="542.5547" y2="542.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="36" y="537.4888">run commands</text><polygon fill="#A80036" points="1151.5,567.6875,1161.5,571.6875,1151.5,575.6875,1155.5,571.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="1157.5" y1="571.6875" y2="571.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="36" y="566.6216">terminate session</text><polygon fill="#A80036" points="1020.5,596.8203,1010.5,600.8203,1020.5,604.8203,1016.5,600.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1014.5" x2="1167.5" y1="600.8203" y2="600.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1026.5" y="595.7544">session terminated</text><polygon fill="#A80036" points="263,625.9531,253,629.9531,263,633.9531,259,629.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="257" x2="1003.5" y1="629.9531" y2="629.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="269" y="624.8872">session terminated</text><rect fill="#EEEEEE" filter="url(#fwb55td8iom8m)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1273" x="0" y="658.5195"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1273" y1="658.5195" y2="658.5195"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1273" y1="661.5195" y2="661.5195"/><rect fill="#EEEEEE" filter="url(#fwb55td8iom8m)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="525" x="374" y="647.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="511" x="380" y="664.02">Requesting an authenticated session using the cloud.gov dashboard</text><rect fill="#FFFFFF" filter="url(#fwb55td8iom8m)" height="40.2656" style="stroke:#000000;stroke-width:2.0;" width="656.5" x="2" y="681.0859"/><path d="M2,681.0859 L68,681.0859 L68,688.0859 L58,698.0859 L2,698.0859 L2,681.0859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="15" y="695.1528">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="572" x="46.25" y="714.1528">9.d Privileged User Access: The administrator authenticates with the cloud.gov dashboard</text><polygon fill="#A80036" points="266,743.4844,276,747.4844,266,751.4844,270,747.4844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="272" y1="747.4844" y2="747.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="36" y="742.4185">navigate to application</text><rect fill="#FEFECE" filter="url(#fwb55td8iom8m)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="278" y="726.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="285" y="746.3467">cloud.gov dashboard</text><polygon fill="#A80036" points="40,788.7813,30,792.7813,40,796.7813,36,792.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="358.5" y1="792.7813" y2="792.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="46" y="787.7153">show application details</text><polygon fill="#A80036" points="342.5,817.9141,352.5,821.9141,342.5,825.9141,346.5,821.9141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="348.5" y1="821.9141" y2="821.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="36" y="816.8481">application instance: SSH</text><polygon fill="#A80036" points="570.5,847.0469,580.5,851.0469,570.5,855.0469,574.5,851.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="576.5" y1="851.0469" y2="851.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="371.5" y="845.981">request GUID for &lt;appname&gt;</text><polygon fill="#A80036" points="570.5,876.1797,580.5,880.1797,570.5,884.1797,574.5,880.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="576.5" y1="880.1797" y2="880.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="371.5" y="875.1138">request SSH endpoint details</text><polygon fill="#A80036" points="746.5,905.3125,756.5,909.3125,746.5,913.3125,750.5,909.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="752.5" y1="909.3125" y2="909.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="371.5" y="904.2466">request SSH client auth code</text><polygon fill="#A80036" points="992.5,934.4453,1002.5,938.4453,992.5,942.4453,996.5,938.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="768.5" x2="998.5" y1="938.4453" y2="938.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="775.5" y="933.3794">add to authorized_users</text><polygon fill="#A80036" points="375.5,963.5781,365.5,967.5781,375.5,971.5781,371.5,967.5781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="369.5" x2="762.5" y1="967.5781" y2="967.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="381.5" y="962.5122">return code</text><polygon fill="#A80036" points="987.5,992.7109,997.5,996.7109,987.5,1000.7109,991.5,996.7109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="364.5" x2="993.5" y1="996.7109" y2="996.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="371.5" y="991.645">present SSH client auth code</text><polygon fill="#A80036" points="774.5,1021.8438,764.5,1025.8438,774.5,1029.8438,770.5,1025.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="768.5" x2="998.5" y1="1025.8438" y2="1025.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="780.5" y="1020.7778">verify authorization to application</text><polygon fill="#A80036" points="1151.5,1050.9766,1161.5,1054.9766,1151.5,1058.9766,1155.5,1054.9766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1009.5" x2="1157.5" y1="1054.9766" y2="1054.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="1016.5" y="1049.9106">establish ssh session</text><polygon fill="#A80036" points="1020.5,1080.1094,1010.5,1084.1094,1020.5,1088.1094,1016.5,1084.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1014.5" x2="1162.5" y1="1084.1094" y2="1084.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1026.5" y="1079.0435">present session</text><polygon fill="#A80036" points="375.5,1109.2422,365.5,1113.2422,375.5,1117.2422,371.5,1113.2422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="369.5" x2="998.5" y1="1113.2422" y2="1113.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="381.5" y="1108.1763">proxy session</text><polygon fill="#A80036" points="40,1138.375,30,1142.375,40,1146.375,36,1142.375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="353.5" y1="1142.375" y2="1142.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="46" y="1137.3091">present authenticated session</text><polygon fill="#A80036" points="1151.5,1167.5078,1161.5,1171.5078,1151.5,1175.5078,1155.5,1171.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="1157.5" y1="1171.5078" y2="1171.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="36" y="1166.4419">run commands</text><polygon fill="#A80036" points="1151.5,1196.6406,1161.5,1200.6406,1151.5,1204.6406,1155.5,1200.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="29" x2="1157.5" y1="1200.6406" y2="1200.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="36" y="1195.5747">terminate session</text><polygon fill="#A80036" points="1020.5,1225.7734,1010.5,1229.7734,1020.5,1233.7734,1016.5,1229.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1014.5" x2="1167.5" y1="1229.7734" y2="1229.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1026.5" y="1224.7075">session terminated</text><polygon fill="#A80036" points="375.5,1254.9063,365.5,1258.9063,375.5,1262.9063,371.5,1258.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="369.5" x2="1003.5" y1="1258.9063" y2="1258.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="381.5" y="1253.8403">session terminated</text><!--MD5=[96ff2969fca34ae1bfcec0f7c1a20f38]
@startuml
box "User" #LightBlue
    entity "admin" as admin
    participant cli
end box
box "cloud.gov" #Green
    participant "cloud.gov dashboard" as cgdashboard
    participant "cloud.gov controller" as capi
    participant "cloud.gov authentication" as uaa
    participant "ssh proxy" as sshproxy
    participant "application container sshd" as stagingapp
end box

== Requesting an authenticated session using the CLI==

ref over admin, capi: 9.d Privileged User Access: The administrator authenticates with the cloud.gov API
admin -> cli : //cf ssh <appname>//
activate cli
cli -> capi : request GUID for <appname>
cli -> capi : request SSH endpoint details
cli -> uaa : request SSH client auth code
activate uaa
uaa -> sshproxy : add to authorized_users
cli <- uaa : return code
deactivate uaa
cli -> sshproxy : present SSH client auth code
activate sshproxy
sshproxy -> uaa : verify authorization to application
sshproxy -> stagingapp : establish ssh session
activate stagingapp
sshproxy <- stagingapp : present session
cli <- sshproxy : proxy session
admin <- cli : present authenticated session
admin -> stagingapp : run commands
admin -> stagingapp : terminate session
sshproxy <- stagingapp : session terminated
deactivate stagingapp
cli <- sshproxy : session terminated
deactivate sshproxy
deactivate cli

== Requesting an authenticated session using the cloud.gov dashboard==
create cgdashboard
ref over admin, capi: 9.d Privileged User Access: The administrator authenticates with the cloud.gov dashboard
admin -> cgdashboard : navigate to application
admin <- cgdashboard : show application details
admin -> cgdashboard : application instance: SSH
activate cgdashboard
cgdashboard -> capi : request GUID for <appname>
cgdashboard -> capi : request SSH endpoint details
cgdashboard -> uaa : request SSH client auth code
activate uaa
uaa -> sshproxy : add to authorized_users
cgdashboard <- uaa : return code
deactivate uaa
cgdashboard -> sshproxy : present SSH client auth code
activate sshproxy
sshproxy -> uaa : verify authorization to application
sshproxy -> stagingapp : establish ssh session
activate stagingapp
sshproxy <- stagingapp : present session
cgdashboard <- sshproxy : proxy session
admin <- cgdashboard : present authenticated session
admin -> stagingapp : run commands
admin -> stagingapp : terminate session
sshproxy <- stagingapp : session terminated
deactivate stagingapp
cgdashboard <- sshproxy : session terminated
deactivate sshproxy
deactivate cli

@enduml

PlantUML version 1.2021.16(Wed Dec 08 09:25:22 PST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>